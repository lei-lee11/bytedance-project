# ğŸ¤– AI-Agent CLI: æ™ºèƒ½å…¨é“¾è·¯å¼€å‘åŠ©æ‰‹

> åŸºäº **LangGraph** + **React Ink** æ„å»ºçš„ç»ˆç«¯æ™ºèƒ½ç¼–ç¨‹ Agentã€‚
>
> _â€œä¸ä»…æ˜¯å¯¹è¯ï¼Œæ›´æ˜¯æ‰§è¡Œã€‚ä»éœ€æ±‚æ‹†è§£åˆ°ä»£ç è½åœ°ï¼Œå…¨æµç¨‹æ¥ç®¡ã€‚â€_

<!-- å¾½ç« åŒºåŸŸï¼šå±•ç¤ºæŠ€æœ¯æ ˆ -->

[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![React Ink](https://img.shields.io/badge/UI-React_Ink-61DAFB?style=flat-square&logo=react)](https://github.com/vadimdemedes/ink)
[![LangGraph](https://img.shields.io/badge/AI-LangGraph-orange?style=flat-square)](https://langchain-ai.github.io/langgraphjs/)
[![Node.js](https://img.shields.io/badge/Runtime-Node.js_18+-green?style=flat-square&logo=node.js)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow?style=flat-square)](LICENSE)

---

## âœ¨ æ ¸å¿ƒæ¼”ç¤º (Demo)

![CLI Demo](./AI-Agent/assets/demo.gif)

_ä¸Šå›¾å±•ç¤ºäº† Agent ä»æ¥æ”¶è‡ªç„¶è¯­è¨€æŒ‡ä»¤â€œæ ¹æ®æ–‡æ¡£å¼€å‘é¡¹ç›®â€ï¼Œåˆ°è‡ªåŠ¨è§„åˆ’ã€ç”Ÿæˆä»£ç ã€å†™å…¥æ–‡ä»¶çš„å®Œæ•´è¿‡ç¨‹ã€‚_

---

![Session Demo](./AI-Agent/assets/session.gif)

_ä¸Šå›¾å±•ç¤ºäº† Agent åˆ‡æ¢å¯¹è¯çš„å®Œæ•´è¿‡ç¨‹ã€‚_

---

## ğŸ“– é¡¹ç›®ä»‹ç»

**AI-Agent CLI** æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç»ˆç«¯ï¼ˆTerminalï¼‰ä¸­çš„æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ã€‚

ä¸ä¼ ç»Ÿçš„ Chatbot ä¸åŒï¼Œå®ƒå…·å¤‡**Agentic Workflowï¼ˆæ™ºèƒ½ä½“å·¥ä½œæµï¼‰**èƒ½åŠ›ã€‚å®ƒä¸åªæ˜¯ç”Ÿæˆæ–‡æœ¬ï¼Œæ›´èƒ½**æ“ä½œæ–‡ä»¶ç³»ç»Ÿ**ã€**æ‰§è¡Œ Shell å‘½ä»¤**å¹¶**è‡ªæˆ‘ä¿®æ­£**ã€‚

é¡¹ç›®è§£å†³äº†ä¼ ç»Ÿ AI ç¼–ç¨‹å·¥å…·æ— æ³•å¤„ç†å¤æ‚å¤šæ­¥éª¤ä»»åŠ¡çš„ç—›ç‚¹ï¼Œé€šè¿‡ **DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰** æ¶æ„ç®¡ç†çŠ¶æ€ï¼Œå®ç°äº†ä»â€œéœ€æ±‚åˆ†æâ€åˆ°â€œä»£ç äº¤ä»˜â€çš„è‡ªåŠ¨åŒ–é—­ç¯ã€‚

### æ ¸å¿ƒèƒ½åŠ›

- ğŸ§  **åŒé˜¶æ®µè§„åˆ’ (Two-Stage Planning)**: è‡ªåŠ¨å°†æ¨¡ç³Šéœ€æ±‚æ‹†è§£ä¸º `Project Plan` å’Œå…·ä½“çš„ `Todo List`ã€‚
- ğŸ–¥ï¸ **äº¤äº’å¼ç»ˆç«¯ UI**: ä½¿ç”¨ **React Ink** æ„å»ºï¼Œæ”¯æŒæµå¼è¾“å‡ºã€æ‰“å­—æœºæ•ˆæœã€ç»“æ„åŒ–æ—¥å¿—å±•ç¤ºï¼Œå‘Šåˆ«æ¯ç‡¥çš„å‘½ä»¤è¡Œã€‚
- ğŸ›¡ï¸ **å®‰å…¨å®¡æ‰¹ (Human-in-the-loop)**: æ•æ„Ÿæ“ä½œï¼ˆå¦‚ `write_file`, `exec_command`ï¼‰å†…ç½®æ‹¦æˆªæœºåˆ¶ï¼Œéœ€äººå·¥ `Approve` æ‰èƒ½æ‰§è¡Œã€‚
- ğŸ’¾ **çŠ¶æ€æŒä¹…åŒ–**: åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„åˆ†å±‚å­˜å‚¨æ¶æ„ï¼Œæ”¯æŒ**æ–­ç‚¹ç»­ä¼ **ã€‚å³ä½¿è¿›ç¨‹é€€å‡ºï¼Œä¹Ÿèƒ½æ¢å¤ä¹‹å‰çš„å¼€å‘ä¸Šä¸‹æ–‡ã€‚
- âœ… **ç»“æ„åŒ–è¾“å‡º**: é›†æˆ **Zod** è¿›è¡Œä¸¥æ ¼çš„æ•°æ®æ ¡éªŒï¼Œç¡®ä¿ AI è¾“å‡ºçš„æŒ‡ä»¤å’Œä»£ç æ ¼å¼ 100% å¯ç”¨ã€‚

---

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### æ•´ä½“è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·è¾“å…¥                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   initialize èŠ‚ç‚¹     â”‚  â† å¤„ç†æ–‡ä»¶å¼•ç”¨ + æ‰«æé¡¹ç›®æ ‘
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   classifier èŠ‚ç‚¹     â”‚  â† æ„å›¾åˆ†ç±»ï¼šä»»åŠ¡ vs é—²èŠ
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚               â”‚
   [ä»»åŠ¡æ¨¡å¼]        [é—²èŠæ¨¡å¼]
        â”‚               â”‚
        â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  planner èŠ‚ç‚¹ â”‚  â”‚ chat èŠ‚ç‚¹â”‚ â†’ ENDï¼ˆå‹å¥½å›å¤ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   executor èŠ‚ç‚¹       â”‚  â† æ ¸å¿ƒæ‰§è¡Œå¼•æ“
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â€¢ è°ƒç”¨ AI æ¨¡å‹
â”‚ â”‚  AI æ¨¡å‹å†³ç­–    â”‚  â”‚     â€¢ å·¥å…·è°ƒç”¨
â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚     â€¢ ä»»åŠ¡æ¨è¿›
â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â€¢ å¾ªç¯æ£€æµ‹
       â”‚       â”‚
   [å·¥å…·è°ƒç”¨] [ä»»åŠ¡å®Œæˆ]
       â”‚       â”‚
       â–¼       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  END
â”‚ tools èŠ‚ç‚¹â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
  [æ•æ„Ÿå·¥å…·ï¼Ÿ]
      â”‚
 â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 â”‚         â”‚
[æ˜¯]      [å¦]
 â”‚         â”‚
 â–¼         â–¼
review   ç›´æ¥æ‰§è¡Œ
èŠ‚ç‚¹      â”‚
 â”‚        â”‚
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
      â”‚
      â–¼
   executor
   ï¼ˆç»§ç»­å¾ªç¯ï¼‰
```

### æŠ€æœ¯æ ˆè¯¦æƒ…

| ç»´åº¦     | æŠ€æœ¯é€‰å‹                   | è¯´æ˜                            |
| -------- | -------------------------- | ------------------------------- |
| è¯­è¨€     | TypeScript                 | å…¨ç±»å‹å®‰å…¨å¼€å‘                  |
| AI ç¼–æ’  | LangChain.js / LangGraph   | å®ç°æœ‰å‘æ— ç¯å›¾ (DAG) å·¥ä½œæµ     |
| UI æ¸²æŸ“  | Ink (React for CLI)        | åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ React ç»„ä»¶å’Œ Hooks |
| æ•°æ®æ ¡éªŒ | Zod                        | ä¿è¯ LLM ç»“æ„åŒ–è¾“å‡ºçš„ç¨³å®šæ€§     |
| è¿è¡Œæ—¶   | Node.js                    | æ–‡ä»¶ç³»ç»Ÿæ“ä½œã€è¿›ç¨‹ç®¡ç†          |
| æ¨¡å‹æ”¯æŒ | OpenAI / DeepSeek / Doubao | å…¼å®¹å¤šç§ OpenAI æ ¼å¼æ¥å£çš„æ¨¡å‹  |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- ä¸€ä¸ªå¯ç”¨çš„ LLM API Key (å¦‚ OpenAI, DeepSeek, è±†åŒ…ç­‰)

### 2. å®‰è£…

#### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/lei-lee11/bytedance-project.git
```

#### è¿›å…¥ç›®å½•

```bash
cd AI-Agent
```

#### å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡ç‰ˆæ–‡ä»¶ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keyï¼š

```
ARK_API_KEY=your_api_key_here
ARK_MODEL=doubao-seed-1-6-thing-250715
```

### 4. å¯åŠ¨

#### å¼€å‘æ¨¡å¼

```bash
npm run start
```

#### æˆ–è€…ç¼–è¯‘åè¿è¡Œ

```bash
npm run build && npm run prod
```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ agent/ # ğŸ¤– æ™ºèƒ½ä½“æ ¸å¿ƒ
â”‚   â”œâ”€â”€ graph.ts # LangGraph å›¾å®šä¹‰
â”‚   â”œâ”€â”€ nodes.ts # èŠ‚ç‚¹é€»è¾‘ (Planner, Executor...)
â”‚   â””â”€â”€ prompts.ts # Prompt å·¥ç¨‹
â”œâ”€â”€ cli.tsx # ğŸ–¥ï¸ Ink UI å…¥å£
â”œâ”€â”€ ui/ # React ç»„ä»¶ (InputArea, LogViewer...)
â”œâ”€â”€ tools/ # ğŸ”§ å·¥å…·é“¾ (FileOps, Shell...)
â”œâ”€â”€ storage/ # ğŸ’¾ æŒä¹…åŒ–å­˜å‚¨å±‚
â””â”€â”€ config/ # âš™ï¸ é…ç½®æ–‡ä»¶
```

---

## ğŸ¤ è´¡çŒ®ä¸è”ç³»

æé‡‘æœ‹ (Jinpeng Li)

- ğŸ“§ Email: 1637295803@qq.com
- ğŸ’» Github: https://github.com/lei-lee11

å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰è¶£ï¼Œæ¬¢è¿ç»™ä¸€ä¸ª â­ï¸ Starï¼
